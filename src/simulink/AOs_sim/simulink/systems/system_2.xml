<?xml version="1.0" encoding="utf-8"?>
<System>
  <P Name="Location">[-1, -7, 2753, 1105]</P>
  <P Name="ZoomFactor">150</P>
  <Block BlockType="Inport" Name="θ (IMU signal)" SID="3">
    <P Name="Position">[115, 88, 145, 102]</P>
    <P Name="ZOrder">100000</P>
    <PortProperties>
      <Port Type="out" Index="1">
        <P Name="PropagatedSignals">θ (IMU signal)</P>
      </Port>
    </PortProperties>
  </Block>
  <Block BlockType="Goto" Name=" η1" SID="4">
    <P Name="Position">[65, 290, 125, 320]</P>
    <P Name="ZOrder">100000</P>
    <P Name="GotoTag">Eta_hip</P>
    <P Name="TagVisibility">global</P>
  </Block>
  <Block BlockType="SubSystem" Name="(1) Gait Event detector" SID="5">
    <PortCounts in="1" out="3"/>
    <P Name="Position">[235, 37, 385, 153]</P>
    <P Name="ZOrder">100000</P>
    <P Name="ContentPreviewEnabled">on</P>
    <System Ref="system_5"/>
  </Block>
  <Block BlockType="SubSystem" Name="(2) AOs3" SID="58">
    <PortCounts in="1" out="3"/>
    <P Name="Position">[220, 257, 440, 333]</P>
    <P Name="ZOrder">100000</P>
    <P Name="ContentPreviewEnabled">on</P>
    <PortProperties>
      <Port Type="out" Index="1">
        <P Name="Name">θ estimate</P>
        <P Name="PropagatedSignals">θ_estimate</P>
      </Port>
      <Port Type="out" Index="2">
        <P Name="PropagatedSignals">ω(t)</P>
      </Port>
      <Port Type="out" Index="3">
        <P Name="PropagatedSignals">Φ1(t)</P>
      </Port>
    </PortProperties>
    <System Ref="system_58"/>
  </Block>
  <Block BlockType="SubSystem" Name="(3) Phase Error Compensation" SID="184">
    <PortCounts in="1" out="3"/>
    <P Name="Position">[550, 182, 705, 278]</P>
    <P Name="ZOrder">100000</P>
    <P Name="ContentPreviewEnabled">on</P>
    <PortProperties>
      <Port Type="out" Index="1">
        <P Name="PropagatedSignals">Φn</P>
      </Port>
    </PortProperties>
    <System Ref="system_184"/>
  </Block>
  <Block BlockType="Constant" Name="Constant2" SID="1998">
    <P Name="Position">[805, 230, 835, 260]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Value">pi</P>
  </Block>
  <Block BlockType="Sum" Name="Minus1" SID="1999">
    <PortCounts in="2" out="1"/>
    <P Name="Position">[855, 192, 885, 223]</P>
    <P Name="ZOrder">100000</P>
    <P Name="IconShape">rectangular</P>
    <P Name="Inputs">+-</P>
    <PortProperties>
      <Port Type="out" Index="1">
        <P Name="Name">Gait Phase</P>
      </Port>
    </PortProperties>
  </Block>
  <Block BlockType="Mux" Name="Mux1" SID="328">
    <PortCounts in="3" out="1"/>
    <P Name="Position">[455, 35, 460, 155]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Inputs">3</P>
    <P Name="DisplayOption">bar</P>
  </Block>
  <Block BlockType="Terminator" Name="Terminator3" SID="332">
    <P Name="Position">[480, 85, 500, 105]</P>
    <P Name="ZOrder">100000</P>
  </Block>
  <Block BlockType="Goto" Name="v Φ1" SID="333">
    <P Name="Position">[65, 345, 125, 375]</P>
    <P Name="ZOrder">100000</P>
    <P Name="GotoTag">vphi_hip</P>
    <P Name="TagVisibility">global</P>
  </Block>
  <Block BlockType="Goto" Name="v ω1" SID="334">
    <P Name="Position">[65, 405, 125, 435]</P>
    <P Name="ZOrder">100000</P>
    <P Name="GotoTag">vomega_hip</P>
    <P Name="TagVisibility">global</P>
  </Block>
  <Block BlockType="Constant" Name="vΦ1" SID="335">
    <P Name="Position">[25, 347, 55, 373]</P>
    <P Name="ZOrder">100000</P>
    <P Name="BackgroundColor">lightBlue</P>
    <P Name="Value">10</P>
  </Block>
  <Block BlockType="Constant" Name="vω1" SID="336">
    <P Name="Position">[25, 407, 55, 433]</P>
    <P Name="ZOrder">100000</P>
    <P Name="BackgroundColor">lightBlue</P>
    <P Name="Value">10</P>
  </Block>
  <Block BlockType="Constant" Name="η1" SID="337">
    <P Name="Position">[25, 290, 55, 320]</P>
    <P Name="ZOrder">100000</P>
    <P Name="BackgroundColor">lightBlue</P>
  </Block>
  <Block BlockType="Outport" Name="θ estimate" SID="338">
    <P Name="Position">[485, 263, 515, 277]</P>
    <P Name="ZOrder">100000</P>
  </Block>
  <Block BlockType="Outport" Name="omega" SID="341">
    <P Name="Position">[485, 288, 515, 302]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">2</P>
  </Block>
  <Block BlockType="Outport" Name="Tk" SID="342">
    <P Name="Position">[635, 133, 665, 147]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">3</P>
  </Block>
  <Block BlockType="Outport" Name="Phi_1" SID="343">
    <P Name="Position">[485, 313, 515, 327]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">4</P>
  </Block>
  <Block BlockType="Outport" Name="Phie" SID="344">
    <P Name="Position">[740, 223, 770, 237]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">5</P>
  </Block>
  <Block BlockType="Outport" Name="Φn" SID="345">
    <P Name="Position">[740, 253, 770, 267]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">6</P>
  </Block>
  <Block BlockType="Outport" Name="Gait Phase" SID="2050">
    <P Name="Position">[965, 203, 995, 217]</P>
    <P Name="ZOrder">100000</P>
    <P Name="Port">7</P>
  </Block>
  <Line>
    <P Name="ZOrder">6</P>
    <P Name="Src">328#out:1</P>
    <P Name="Dst">332#in:1</P>
  </Line>
  <Line>
    <P Name="Name">θ estimate</P>
    <P Name="ZOrder">7</P>
    <P Name="Labels">[1, 0]</P>
    <P Name="Src">58#out:1</P>
    <P Name="Dst">338#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">8</P>
    <P Name="Src">5#out:3</P>
    <P Name="Dst">328#in:3</P>
  </Line>
  <Line>
    <P Name="ZOrder">9</P>
    <P Name="Src">5#out:1</P>
    <P Name="Dst">328#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">22</P>
    <P Name="Src">58#out:2</P>
    <P Name="Dst">341#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">27</P>
    <P Name="Src">5#out:2</P>
    <P Name="Points">[42, 0]</P>
    <Branch>
      <P Name="ZOrder">28</P>
      <P Name="Points">[0, 135; 87, 0]</P>
      <Branch>
        <P Name="ZOrder">29</P>
        <P Name="Points">[0, -90]</P>
        <P Name="Dst">342#in:1</P>
      </Branch>
      <Branch>
        <P Name="ZOrder">30</P>
        <P Name="Dst">184#in:1</P>
      </Branch>
    </Branch>
    <Branch>
      <P Name="ZOrder">31</P>
      <P Name="Dst">328#in:2</P>
    </Branch>
  </Line>
  <Line>
    <P Name="ZOrder">33</P>
    <P Name="Src">184#out:2</P>
    <P Name="Dst">344#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">34</P>
    <P Name="Src">184#out:3</P>
    <P Name="Dst">345#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">32</P>
    <P Name="Src">58#out:3</P>
    <P Name="Dst">343#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">52</P>
    <P Name="Src">1998#out:1</P>
    <P Name="Dst">1999#in:2</P>
  </Line>
  <Line>
    <P Name="ZOrder">55</P>
    <P Name="Src">184#out:1</P>
    <P Name="Dst">1999#in:1</P>
  </Line>
  <Line>
    <P Name="Name">Gait Phase</P>
    <P Name="ZOrder">70</P>
    <P Name="Labels">[1, 1]</P>
    <P Name="Src">1999#out:1</P>
    <P Name="Dst">2050#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">10</P>
    <P Name="Src">3#out:1</P>
    <P Name="Points">[28, 0]</P>
    <Branch>
      <P Name="ZOrder">67</P>
      <P Name="Dst">5#in:1</P>
    </Branch>
    <Branch>
      <P Name="ZOrder">12</P>
      <P Name="Points">[0, 200]</P>
      <P Name="Dst">58#in:1</P>
    </Branch>
  </Line>
  <Line>
    <P Name="ZOrder">71</P>
    <P Name="Src">335#out:1</P>
    <P Name="Dst">333#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">72</P>
    <P Name="Src">336#out:1</P>
    <P Name="Dst">334#in:1</P>
  </Line>
  <Line>
    <P Name="ZOrder">73</P>
    <P Name="Src">337#out:1</P>
    <P Name="Dst">4#in:1</P>
  </Line>
</System>
